{"version":3,"sources":["util/sourndSource/fanfare.mp3","util/sourndSource/dun-dun-dun.mp3","view/input/inputStyled.js","api/axios.js","service/attendanceService.js","view/input/InputData.jsx","style.js","view/App.jsx","index.jsx"],"names":["module","exports","DivWrapper","styled","div","TitleWrapper","InputWrapper","input","axios","require","attend","id","a","postValue","student_school_id","post","baseURL","e","setDisabled","playSuccess","playError","inputValue","target","value","console","log","which","AttendanceService","setTimeout","window","location","reload","InputData","useState","disabled","useSound","successSound","errorSound","autoFocus","onKeyPress","handleChange","GlobalStyled","createGlobalStyle","App","className","ReactDOM","render","document","getElementById"],"mappings":"4FAAAA,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,gyBCEpC,IAAMC,EAAaC,IAAOC,IAAV,KAQVC,EAAeF,IAAOC,IAAV,KAUZE,EAAeH,IAAOI,MAAV,KClBVC,EAFDC,EAAQ,ICUP,GAAEC,OALL,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACPC,EAAY,CAAEC,kBAAmBH,GAD1B,kBAENH,EAAMO,KAAN,UAJaC,2CAIkBH,IAFzB,2CAAH,uD,8ECsBZ,WAA4BI,EAAGC,EAAaC,EAAaC,GAAzD,eAAAR,EAAA,yDACQS,EAAaJ,EAAEK,OAAOC,MAC5BC,QAAQC,IAAI,QAASR,EAAEK,OAAOI,OACd,KAAZT,EAAES,MAHR,wBAIIF,QAAQC,IAAI,sBACZD,QAAQC,IAAIJ,GACZH,GAAY,GANhB,kBAQwBS,EAAkBjB,OAAOW,GARjD,oDAUcF,IAVd,QAWQS,YAAW,kBAAMC,OAAOC,SAASC,WAAU,MAXnD,2EAcYX,IAdZ,QAeMQ,YAAW,kBAAMC,OAAOC,SAASC,WAAU,MAfjD,2D,sBAoBeC,MAxCG,WAAO,IAAD,EACUC,oBAAS,GADnB,mBACfC,EADe,KACLhB,EADK,OAEAiB,YAASC,KAAxBjB,EAFe,sBAGFgB,YAASE,KAAtBjB,EAHe,oBAItB,OACE,6BACE,kBAAClB,EAAD,KACE,kBAACG,EAAD,6CACA,kBAACC,EAAD,CACEgC,WAAS,EACTC,WAAY,SAACtB,GAAD,O,iDACVuB,CAAavB,EAAGC,EAAaC,EAAaC,IAE5Cc,SAAUA,O,k2CClBb,IAAMO,EAAeC,YAAH,KCWVC,MATf,WACE,OACE,yBAAKC,UAAU,OACb,kBAACH,EAAD,MACA,kBAAC,EAAD,QCJNI,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.e8571109.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fanfare.538b7ed7.mp3\";","module.exports = __webpack_public_path__ + \"static/media/dun-dun-dun.63371b49.mp3\";","import styled from 'styled-components';\n\nexport const DivWrapper = styled.div`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  margin-top: -50px;\n  margin-left: -150px;\n`;\n\nexport const TitleWrapper = styled.div`\n  width: 100%;\n  display: block;\n  font-family: Tahoma;\n  font-size: 39px;\n  color: #555555;\n  line-height: 1.2;\n  text-align: center;\n`;\n\nexport const InputWrapper = styled.input`\n  outline-style: none;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  padding: 13px 14px;\n  width: 280px;\n  font-size: 14px;\n  font-weight: 700;\n  font-family: 'Microsoft soft';\n`;\n","const axios = require('axios');\n\nexport default axios;\n","import axios from '../api/axios';\nimport { baseURL } from '../api/url';\n\nconst attendanceUrl = baseURL + '/public/attend';\n\nconst attend = async (id) => {\n  const postValue = { student_school_id: id };\n  return axios.post(`${attendanceUrl}`, postValue);\n};\n\nexport default { attend };\n","import React, { useState } from 'react';\nimport useSound from 'use-sound';\nimport { TitleWrapper, DivWrapper, InputWrapper } from './inputStyled';\nimport AttendanceService from '../../service/attendanceService';\nimport successSound from '../../util/sourndSource/fanfare.mp3';\nimport errorSound from '../../util/sourndSource/dun-dun-dun.mp3';\n\nconst InputData = () => {\n  const [disabled, setDisabled] = useState(false);\n  const [playSuccess] = useSound(successSound);\n  const [playError] = useSound(errorSound);\n  return (\n    <div>\n      <DivWrapper>\n        <TitleWrapper>钢琴公寓签到</TitleWrapper>\n        <InputWrapper\n          autoFocus\n          onKeyPress={(e) =>\n            handleChange(e, setDisabled, playSuccess, playError)\n          }\n          disabled={disabled}\n        />\n      </DivWrapper>\n    </div>\n  );\n};\n\nasync function handleChange(e, setDisabled, playSuccess, playError) {\n  const inputValue = e.target.value;\n  console.log('input', e.target.which);\n  if (e.which === 13) {\n    console.log('扫码机');\n    console.log(inputValue);\n    setDisabled(true);\n    try {\n      const res = await AttendanceService.attend(inputValue);\n      if (res) {\n        await playSuccess();\n        setTimeout(() => window.location.reload(), 1500);\n      }\n    } catch (error) {\n      await playError();\n      setTimeout(() => window.location.reload(), 1500);\n    }\n  }\n}\n\nexport default InputData;\n","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyled = createGlobalStyle`\n    /* reset.css */\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n    }\n    /* HTML5 display-role reset for older browsers */\n    article, aside, details, figcaption, figure, \n    footer, header, hgroup, menu, nav, section {\n        display: block;\n    }\n    body {\n\n        background-color: #2196F3;\n        line-height: 1;\n    }\n    ol, ul {\n        list-style: none;\n    }\n    blockquote, q {\n        quotes: none;\n    }\n    blockquote:before, blockquote:after,\n    q:before, q:after {\n        content: '';\n        content: none;\n    }\n    table {\n        border-collapse: collapse;\n        border-spacing: 0;\n    }\n`;\n","import React from 'react';\nimport InputData from './input/InputData';\nimport { GlobalStyled } from '../style.js';\n\nfunction App() {\n  return (\n    <div className='App'>\n      <GlobalStyled />\n      <InputData />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './view/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}